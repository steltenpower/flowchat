<!doctype html>
<html lang="en" style="width:100%;height:100%;"><head><title>faking interaction</title>
<script>
svgNS="http://www.w3.org/2000/svg";
stretching=false;
function drawTriple_listenForA(ev){
	var translate="translate('"+ev.x+"','"+ev.y+"')";
	document.getElementById("triple")
		.setAttribute("transform",translate)
		.setAttribute("visibility","visible");
	startRecording("A");
}
function stretchTriple_listenForR(ev){
	if (!stretching){
		stopRecording("A")
		startRecording("R")
	}else{
		document.getElementById("R")
			.setAttribute("x2",ev.x)
			.setAttribute("y2",ev.y);
		document.getElementById("B")
			.setAttribute("cx",ev.x)
			.setAttribute("cy",ev.y);
	}
}
function listenForB(ev){
	stopRecording("R");
	startRecording("B");
}
function completeB(ev){
	stopRecording("B");
}
// ...	
function startRecording(elmId){
	// TODO future start audio recording on audiofragment elmId
	document.getElementById(elmId)
		.setAttribute("stroke","red");
}
function stopRecording(elmId){
	// TODO future stop audio recording on audiofragment elmId
	document.getElementById(elmId).setAttribute("stroke","black");
	startShowingResults(elmId);
}
function startShowingResults(elmId){
	// add a 'dropdown' that keeps growing for a while
}
// ...
document.addEventListener('mousedown', drawTriple_listenForA, false);
document.addEventListener('mousemove', stretchTriple_listenForR, false);
document.addEventListener('mouseup', listenForB, false);
document.addEventListener('keydown', completeB, false);
</script>
</head>
<body style="width:100%;height:100%;margin:0;"><svg width="100%" height="100%"><g id="triple" visibility="hidden" fill="grey" stroke="grey">
	<circle id="B" r="100" />
	<line id="R" />
	<circle id="A" r="100" />
</g></svg></body></html>
